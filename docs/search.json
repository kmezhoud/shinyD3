[{"path":[]},{"path":"https://kmezhoud.github.io/shinyD3/articles/barplot.html","id":"ui-r","dir":"Articles","previous_headings":"The structure of files","what":"ui.R","title":"ShinyD3 - A Barplot.js warpper (own data)","text":"","code":"library(shiny)  # Define UI for application that draws a histogram fluidPage(      #Bring in the style sheet from the www folder   tags$head(tags$link(rel = \"stylesheet\",                        type = \"text/css\", href = \"style.css\")),      #Tell shiny what version of d3 we want   tags$script(src='//d3js.org/d3.v3.min.js'),         # Application title   titlePanel(\"D3 and R, a match made in heaven\"),      # Sidebar with a slider input for number of bins   sidebarLayout(     sidebarPanel(              #Dropdown list with the vehicle classes         selectInput(inputId = \"vehicleClass\",                   label = 'Select a Vehicle Class',                   choices = c('','compact', 'midsize', 'suv',                                '2seater', 'minivan', 'pickup', 'subcompact'),                   selected = ''       )            ),          # Show a plot of the generated distribution     mainPanel(       #The d3 graph       uiOutput(\"d3\")            )   ) )"},{"path":"https://kmezhoud.github.io/shinyD3/articles/barplot.html","id":"server-r","dir":"Articles","previous_headings":"The structure of files","what":"server.R","title":"ShinyD3 - A Barplot.js warpper (own data)","text":"","code":"library(shiny)  # Define server logic required to draw a histogram function(input, output, session) {      #Lets look for changes in our vehicle class dropdown then crunch the data and serve it to D3   observeEvent(input$vehicleClass, {          #Use tidyverse to slice the data based on the drop down input     dfMpg <- mpg %>%        filter(class == input$vehicleClass) %>%        group_by(manufacturer) %>%        mutate(avgCity = mean(cty)) %>%        select(manufacturer, avgCity) %>%        unique() %>%        rename(name = manufacturer, value = avgCity)          #Convert the tibble to json     jsonMpg <- toJSON(dfMpg, pretty=TRUE)          #Send that json from the session to our javascript     session$sendCustomMessage(type=\"jsondata\",jsonMpg)        }, ignoreNULL = FALSE,ignoreInit = FALSE)      #This tells shiny to run our javascript file \"script.js\" and send it to the UI for rendering   output$d3<- renderUI({     HTML('<script type=\"text/javascript\", src=\"script.js\">  <\/script>')   })    }"},{"path":"https://kmezhoud.github.io/shinyD3/articles/barplot.html","id":"wwwstlyse-css","dir":"Articles","previous_headings":"The structure of files","what":"www/stlyse.css","title":"ShinyD3 - A Barplot.js warpper (own data)","text":"","code":"body { font: 10px sans-serif; }  .bar rect { fill: steelblue; }  .bar text.value { fill: white; }  .axis { shape-rendering: crispEdges; }  .axis path { fill: none; }  .x.axis line { stroke: #fff; stroke-opacity: .8; }  .y.axis path { stroke: black; }"},{"path":"https://kmezhoud.github.io/shinyD3/articles/barplot.html","id":"wwwscript-js","dir":"Articles","previous_headings":"The structure of files","what":"www/script.js","title":"ShinyD3 - A Barplot.js warpper (own data)","text":"","code":"//Wrap the entire D3 script in this function. It is looking for a jsondata message sent from Shinys server session object. Shiny.addCustomMessageHandler('jsondata', function(message) {     //Lets nuke out any thing on our page with the id of \"d3Graph\". This will prevent      //our app from making a new graph each time a parameter is changed     d3.select(\"#d3Graph\").remove();      //The message comes from shiny, it is the json payload from our session     var data = message;      //Set the margin, width, and height of the D3 SVG     var m = [30, 10, 10, 100],         w = 960 - m[1] - m[3],         h = 600 - m[0] - m[2];      var format = d3.format(\",.0f\");      //Set the axis     var x = d3.scale.linear().range([0, w]),         y = d3.scale.ordinal().rangeRoundBands([0, h], .1);      var xAxis = d3.svg.axis().scale(x).orient(\"top\").tickSize(-h),         yAxis = d3.svg.axis().scale(y).orient(\"left\");//.tickSize(0);      //This is the shell of the SVG. It gets the id of \"d3Graph\". Every time this script is called     //it will nuke out any svg named d3graph and create a new one.          var svg = d3.select(\"body\").append(\"svg\")         .attr(\"width\", w + m[1] + m[3])         .attr(\"height\", h + m[0] + m[2])         .attr(\"id\", \"d3Graph\")         .append(\"g\")         .attr(\"transform\", \"translate(\" + m[3] + \",\" + m[0] + \")\");      //We have a d3 graph, but we need to bind data to it.      data.forEach(function(d) {         d.name  =  d.name;         d.value = +d.value;       });      data.sort(function(a, b) { return b.value - a.value; });      //Set the scale.     x.domain([0, d3.max(data, function(d) { return d.value; })]);     y.domain(data.map(function(d) { return d.name; }));      //Make the chart     var bar = svg.selectAll(\"g.bar\")         .data(data)         .enter().append(\"g\")         .attr(\"class\", \"bar\")         .attr(\"transform\", function(d) { return \"translate(0,\" + y(d.name) + \")\"; });      bar.append(\"rect\")         .attr(\"width\", function(d) { return x(d.value); })         .attr(\"height\", y.rangeBand());      //Labels are good.              bar.append(\"text\")         .attr(\"class\", \"value\")         .attr(\"x\", function(d) { return x(d.value); })         .attr(\"y\", y.rangeBand() / 2)         .attr(\"dx\", -3)         .attr(\"dy\", \".35em\")         .attr(\"text-anchor\", \"end\")         .text(function(d) { return format(d.value); });      svg.append(\"g\")         .attr(\"class\", \"x axis\")         .call(xAxis);      svg.append(\"g\")         .attr(\"class\", \"y axis\")         .call(yAxis); });"},{"path":[]},{"path":"https://kmezhoud.github.io/shinyD3/articles/chords.html","id":"styles-css","dir":"Articles","previous_headings":"","what":"styles.css","title":"ShinyD3 - A chords.js warpper","text":"","code":"html, body {   font-family: 'Roboto', 'Helvetica', sans-serif;   margin: 0;   padding: 0; } .mdl-demo .mdl-layout__header-row {   padding-left: 40px; } .mdl-demo .mdl-layout.is-small-screen .mdl-layout__header-row h3 {   font-size: inherit; } .mdl-demo .mdl-layout__tab-bar-button {   display: none; } .mdl-demo .mdl-layout.is-small-screen .mdl-layout__tab-bar .mdl-button {   display: none; } .mdl-demo .mdl-layout:not(.is-small-screen) .mdl-layout__tab-bar, .mdl-demo .mdl-layout:not(.is-small-screen) .mdl-layout__tab-bar-container {   overflow: visible; } .mdl-demo .mdl-layout__tab-bar-container {   height: 64px; }  ...."},{"path":"https://kmezhoud.github.io/shinyD3/articles/chords.html","id":"chords-js","dir":"Articles","previous_headings":"","what":"chords.js","title":"ShinyD3 - A chords.js warpper","text":"","code":"var gieStainColor = {   gpos100: 'rgb(0,0,0)',   gpos: 'rgb(0,0,0)',   gpos75: 'rgb(130,130,130)',   gpos66: 'rgb(160,160,160)',   gpos50: 'rgb(200,200,200)',   gpos33: 'rgb(210,210,210)',   gpos25: 'rgb(200,200,200)',   gvar: 'rgb(220,220,220)',   gneg: 'rgb(255,255,255)',   acen: 'rgb(217,47,39)',   stalk: 'rgb(100,127,164)',   select: 'rgb(135,177,255)' }  var drawCircos = function (error, GRCh37, cytobands, data) {   var width = document.getElementsByClassName('mdl-card__supporting-text')[0].offsetWidth   var circos = new Circos({     container: '#chordsChart',     width: width,     height: width   })    cytobands = cytobands.map(function (d) {     return {       block_id: d.chrom,       start: parseInt(d.chromStart),       end: parseInt(d.chromEnd),       gieStain: d.gieStain,       name: d.name     }   })    data = data.map(function (d) {     return {       source: {         id: d.source_id,         start: parseInt(d.source_breakpoint) - 2000000,         end: parseInt(d.source_breakpoint) + 2000000       },       target: {         id: d.target_id,         start: parseInt(d.target_breakpoint) - 2000000,         end: parseInt(d.target_breakpoint) + 2000000       }     }   })    circos     .layout(       GRCh37,     {       innerRadius: width/2 - 80,       outerRadius: width/2 - 40,       labels: {         radialOffset: 70       },       ticks: {         display: true,         labelDenominator: 1000000       },       events: {         'click.demo': function (d, i, nodes, event) {           console.log('clicked on layout block', d, event)         }       }     }     )     .highlight('cytobands', cytobands, {       innerRadius: width/2 - 80,       outerRadius: width/2 - 40,       opacity: 0.3,       color: function (d) {         return gieStainColor[d.gieStain]       },       tooltipContent: function (d) {         return d.name       }     })     .chords(       'l1',       data,     {       radius: function (d) {         if (d.source.id === 'chr1') {           return 0.5         } else {           return null         }       },       logScale: false,       opacity: 0.7,       color: '#ff5722',       tooltipContent: function (d) {         return '<h3>' + d.source.id + ' ➤ ' + d.target.id + ': ' + d.value + '<\/h3><i>(CTRL+C to copy to clipboard)<\/i>'       },       events: {         'mouseover.demo': function (d, i, nodes, event) {           console.log(d, i, nodes, event.pageX)         }       }     }     )     .render() }  d3.queue()   .defer(d3.json, './data/GRCh37.json')   .defer(d3.csv, './data/cytobands.csv')   .defer(d3.csv, './data/fusion-genes.csv')   .await(drawCircos)"},{"path":"https://kmezhoud.github.io/shinyD3/articles/chords.html","id":"ui-r","dir":"Articles","previous_headings":"","what":"ui.R","title":"ShinyD3 - A chords.js warpper","text":"","code":"shinyUI(   fluidPage(     tags$head(       #Tell shiny what version of d3 we want       tags$script(src='//d3js.org/d3.v4.min.js')       ),       #includeScript(\"d3.min.js\")),                   includeCSS('styles.css'),                   mainPanel(uiOutput(\"chords\")) ))"},{"path":"https://kmezhoud.github.io/shinyD3/articles/chords.html","id":"server-r","dir":"Articles","previous_headings":"","what":"server.R","title":"ShinyD3 - A chords.js warpper","text":"","code":"library(shiny)  shinyServer(function(input, output, session) {   output$chords <- renderUI({     includeScript('chords.js')   })      # stop app if session is ended   session$onSessionEnded(function() {     stopApp()     print(\" Chords session is ended!\")   }) })"},{"path":[]},{"path":"https://kmezhoud.github.io/shinyD3/articles/force_network.html","id":"style-css","dir":"Articles","previous_headings":"","what":"style.css","title":"ShinyD3 - A force_network.js warpper","text":"","code":".node {     fill: #ccc;     stroke: #fff;     stroke-width: 2px; }  .link {     stroke: #777;     stroke-width: 2px; }"},{"path":"https://kmezhoud.github.io/shinyD3/articles/force_network.html","id":"force_network-js","dir":"Articles","previous_headings":"","what":"force_network.js","title":"ShinyD3 - A force_network.js warpper","text":"","code":"var width = 640,     height = 480;  var nodes = [     { x:   width/3, y: height/2 },     { x: 2*width/3, y: height/2 } ];  var links = [     { source: 0, target: 1 } ];  var svg = d3.select('body').append('svg')     .attr('width', width)     .attr('height', height);  var force = d3.layout.force()     .size([width, height])     .nodes(nodes)     .links(links);  force.linkDistance(width/2);  var link = svg.selectAll('.link')     .data(links)     .enter().append('line')     .attr('class', 'link');  var node = svg.selectAll('.node')     .data(nodes)     .enter().append('circle')     .attr('class', 'node'); force.on('end', function() {     node.attr('r', width/25)         .attr('cx', function(d) { return d.x; })         .attr('cy', function(d) { return d.y; });     link.attr('x1', function(d) { return d.source.x; })         .attr('y1', function(d) { return d.source.y; })         .attr('x2', function(d) { return d.target.x; })         .attr('y2', function(d) { return d.target.y; }); }); force.start();"},{"path":"https://kmezhoud.github.io/shinyD3/articles/force_network.html","id":"ui-r","dir":"Articles","previous_headings":"","what":"ui.R","title":"ShinyD3 - A force_network.js warpper","text":"","code":"library(shiny)  shinyUI(   fluidPage(     tags$head(       #Tell shiny what version of d3 we want       tags$script(src='//d3js.org/d3.v3.min.js')       ),       #includeScript(\"d3.min.js\")),                   includeCSS('style.css'),                   mainPanel(uiOutput(\"chart\")) ))"},{"path":"https://kmezhoud.github.io/shinyD3/articles/force_network.html","id":"server-r","dir":"Articles","previous_headings":"","what":"server.R","title":"ShinyD3 - A force_network.js warpper","text":"","code":"library(shiny)  shinyServer(function(input, output) {   output$chart <- renderUI({     includeScript('force_network.js')   })        # stop app if session is ended   session$onSessionEnded(function() {     stopApp()     print(\" force network session is ended!\")   }) })"},{"path":"https://kmezhoud.github.io/shinyD3/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Karim Mezhoud. Maintainer.","code":""},{"path":"https://kmezhoud.github.io/shinyD3/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Mezhoud K (2023). shinyD3: D3 Wrapper Shiny App. R package version 0.99.02, https://github.com/kmezhoud/shinyD3.","code":"@Manual{,   title = {shinyD3: D3 Wrapper to Shiny App},   author = {Karim Mezhoud},   year = {2023},   note = {R package version 0.99.02},   url = {https://github.com/kmezhoud/shinyD3}, }"},{"path":"https://kmezhoud.github.io/shinyD3/index.html","id":"shinyd3-a-d3js-wrapper-to-shiny-app-","dir":"","previous_headings":"","what":"D3 Wrapper to Shiny App","title":"D3 Wrapper to Shiny App","text":"useful resources Wrap D3 R: R2D3 shiny.gosling","code":""},{"path":"https://kmezhoud.github.io/shinyD3/reference/shinyD3.html","id":null,"dir":"Reference","previous_headings":"","what":"Launch shinyD3 with default browser — shinyD3","title":"Launch shinyD3 with default browser — shinyD3","text":"Launch shinyD3 default browser","code":""},{"path":"https://kmezhoud.github.io/shinyD3/reference/shinyD3.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Launch shinyD3 with default browser — shinyD3","text":"","code":"shinyD3(example)"},{"path":"https://kmezhoud.github.io/shinyD3/reference/shinyD3.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Launch shinyD3 with default browser — shinyD3","text":"example  valid string example visualization","code":""},{"path":"https://kmezhoud.github.io/shinyD3/reference/shinyD3.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Launch shinyD3 with default browser — shinyD3","text":"shiny app D3 library launched web page","code":""},{"path":"https://kmezhoud.github.io/shinyD3/reference/shinyD3.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Launch shinyD3 with default browser — shinyD3","text":"","code":"if(interactive()){ shinyD3(example= \"barplot\") }"},{"path":"https://kmezhoud.github.io/shinyD3/reference/valid_examples.html","id":null,"dir":"Reference","previous_headings":"","what":"Valid Examples — valid_examples","title":"Valid Examples — valid_examples","text":"Valid Examples","code":""},{"path":"https://kmezhoud.github.io/shinyD3/reference/valid_examples.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Valid Examples — valid_examples","text":"","code":"valid_examples"},{"path":"https://kmezhoud.github.io/shinyD3/reference/valid_examples.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Valid Examples — valid_examples","text":"object class character length 3.","code":""},{"path":"https://kmezhoud.github.io/shinyD3/news/index.html","id":"shinyd3-09902","dir":"Changelog","previous_headings":"","what":"shinyD3 0.99.02","title":"shinyD3 0.99.02","text":"Introduce multiple examples","code":""},{"path":"https://kmezhoud.github.io/shinyD3/news/index.html","id":"shinyd3-09901","dir":"Changelog","previous_headings":"","what":"shinyD3 0.99.01","title":"shinyD3 0.99.01","text":"Introduce first example","code":""},{"path":"https://kmezhoud.github.io/shinyD3/news/index.html","id":"shinyd3-09900","dir":"Changelog","previous_headings":"","what":"shinyD3 0.99.00","title":"shinyD3 0.99.00","text":"shiny app first example","code":""}]
